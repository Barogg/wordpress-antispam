{"version":3,"file":"apbct-common.min.js","sources":["apbct-common.js"],"sourcesContent":["function apbct_sendAJAX(data, params, obj){\r\n\r\n\t// Default params\r\n\tvar callback    = params.callback    || null;\r\n\tvar notJson     = params.notJson     || null;\r\n\tvar timeout     = params.timeout     || 15000;\r\n\tvar obj         = obj                || null;\r\n\tvar button      = params.button      || null;\r\n\tvar spinner     = params.spinner     || null;\r\n\tvar progressbar = params.progressbar || null;\r\n\r\n\t// Button and spinner\r\n\tif(button)  {button.setAttribute('disabled', 'disabled'); button.style.cursor = 'not-allowed'; }\r\n\tif(spinner) jQuery(spinner).css('display', 'inline');\r\n\r\n\t// Adding security code\r\n\tdata._ajax_nonce = ctCommon._ajax_nonce;\r\n\tdata.no_cache    = Math.random();\r\n\r\n\tjQuery.ajax({\r\n\t\ttype: \"POST\",\r\n\t\turl: ctCommon._ajax_url,\r\n\t\tdata: data,\r\n\t\tsuccess: function(result){\r\n\t\t\tif(button){  button.removeAttribute('disabled'); button.style.cursor = 'pointer'; }\r\n\t\t\tif(spinner)  jQuery(spinner).css('display', 'none');\r\n\t\t\tif(!notJson) result = JSON.parse(result);\r\n\t\t\tif(result.error){\r\n\t\t\t\tsetTimeout(function(){ if(progressbar) progressbar.fadeOut('slow'); }, 1000);\r\n\t\t\t\talert('Error happens: ' + (result.error || 'Unkown'));\r\n\t\t\t}else{\r\n\t\t\t\tif(callback)\r\n\t\t\t\t\tcallback(result, data, params, obj);\r\n\t\t\t}\r\n\t\t},\r\n\t\terror: function(jqXHR, textStatus, errorThrown){\r\n\t\t\tif(button){  button.removeAttribute('disabled'); button.style.cursor = 'pointer'; }\r\n\t\t\tif(spinner) jQuery(spinner).css('display', 'none');\r\n\t\t\tconsole.log('APBCT_AJAX_ERROR');\r\n\t\t\tconsole.log(jqXHR);\r\n\t\t\tconsole.log(textStatus);\r\n\t\t\tconsole.log(errorThrown);\r\n\t\t\tif(errorThrown)\r\n\t\t\t\talert(errorThrown);\r\n\t\t},\r\n\t\ttimeout: timeout,\r\n\t});\r\n}\r\n\r\nfunction apbct_replace_inputs_values_from_other_form( form_source, form_target ){\r\n\r\n\tvar\tinputs_source = jQuery( form_source ).find( 'button, input, textarea, select' ),\r\n\t\tinputs_target = jQuery( form_target ).find( 'button, input, textarea, select' );\r\n\r\n\tinputs_source.each( function( index, elem_source ){\r\n\r\n\t\tvar source = jQuery( elem_source );\r\n\r\n\t\tinputs_target.each( function( index2, elem_target ){\r\n\r\n\t\t\tvar target = jQuery( elem_target );\r\n\r\n\t\t\tif( elem_source.outerHTML === elem_target.outerHTML ){\r\n\r\n\t\t\t\ttarget.val( source.val() );\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n}"],"names":["apbct_sendAJAX","data","params","obj","callback","notJson","timeout","button","spinner","progressbar","setAttribute","style","cursor","jQuery","css","_ajax_nonce","ctCommon","no_cache","Math","random","ajax","type","url","_ajax_url","success","result","removeAttribute","JSON","parse","error","setTimeout","fadeOut","alert","jqXHR","textStatus","errorThrown","console","log","apbct_replace_inputs_values_from_other_form","form_source","form_target","inputs_source","find","inputs_target","each","index","elem_source","source","index2","elem_target","target","outerHTML","val"],"mappings":"AAAA,SAASA,eAAeC,EAAMC,EAAQC,GAGrC,IAAIC,EAAcF,EAAOE,UAAe,KACpCC,EAAcH,EAAOG,SAAe,KACpCC,EAAcJ,EAAOI,SAAe,KACpCH,EAAcA,GAAsB,KACpCI,EAAcL,EAAOK,QAAe,KACpCC,EAAcN,EAAOM,SAAe,KACpCC,EAAcP,EAAOO,aAAe,KAGrCF,IAAUA,EAAOG,aAAa,WAAY,YAAaH,EAAOI,MAAMC,OAAS,eAC7EJ,GAASK,OAAOL,GAASM,IAAI,UAAW,UAG3Cb,EAAKc,YAAcC,SAASD,YAC5Bd,EAAKgB,SAAcC,KAAKC,SAExBN,OAAOO,KAAK,CACXC,KAAM,OACNC,IAAKN,SAASO,UACdtB,KAAMA,EACNuB,QAAS,SAASC,GACdlB,IAAUA,EAAOmB,gBAAgB,YAAanB,EAAOI,MAAMC,OAAS,WACpEJ,GAAUK,OAAOL,GAASM,IAAI,UAAW,QACxCT,IAASoB,EAASE,KAAKC,MAAMH,IAC9BA,EAAOI,OACTC,WAAW,WAAerB,GAAaA,EAAYsB,QAAQ,SAAY,KACvEC,MAAM,mBAAqBP,EAAOI,OAAS,YAExCzB,GACFA,EAASqB,EAAQxB,EAAMC,EAAQC,IAGlC0B,MAAO,SAASI,EAAOC,EAAYC,GAC/B5B,IAAUA,EAAOmB,gBAAgB,YAAanB,EAAOI,MAAMC,OAAS,WACpEJ,GAASK,OAAOL,GAASM,IAAI,UAAW,QAC3CsB,QAAQC,IAAI,oBACZD,QAAQC,IAAIJ,GACZG,QAAQC,IAAIH,GACZE,QAAQC,IAAIF,GACTA,GACFH,MAAMG,IAER7B,QAASA,IAIX,SAASgC,4CAA6CC,EAAaC,GAElE,IAAIC,EAAgB5B,OAAQ0B,GAAcG,KAAM,mCAC/CC,EAAgB9B,OAAQ2B,GAAcE,KAAM,mCAE7CD,EAAcG,KAAM,SAAUC,EAAOC,GAEpC,IAAIC,EAASlC,OAAQiC,GAErBH,EAAcC,KAAM,SAAUI,EAAQC,GAErC,IAAIC,EAASrC,OAAQoC,GAEjBH,EAAYK,YAAcF,EAAYE,WAEzCD,EAAOE,IAAKL,EAAOK"}