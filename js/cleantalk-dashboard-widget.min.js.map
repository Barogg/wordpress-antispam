{"version":3,"file":"cleantalk-dashboard-widget.min.js","sources":["cleantalk-dashboard-widget.js"],"sourcesContent":["jQuery(document).ready(function(){\n\n\tconsole.table('apbctDashboardWidget',apbctDashboardWidget)\n\n\t// Set \"refresh\" link handler\n\tjQuery(\".ct_widget_refresh_link\").on('click', function(){\n\t\tjQuery('.ct_preloader').show();\n\t\tsetTimeout(function(){window.scrollTo(0, jQuery('#ct_widget_wrapper').offset().top - 130);}, 1);\n\t\tsetTimeout(function(){jQuery(\"#ct_refresh_form\").submit();}, 2500);\n\t});\n\n\tif(location.hash == '#ct_widget')\n\t\tsetTimeout(function(){window.scrollTo(0, jQuery('#ct_widget_wrapper').offset().top - 130);}, 1);\n\n\t// Fixing default wrapper style\n\tjQuery(\"#ct_widget_wrapper\").parent().css('padding', 0);\n\n\tlocale = navigator.language || navigator.userLanguage;\n\n\tvar date_formatter = new Intl.DateTimeFormat(locale, {\n\t\tmonth: \"short\",\n\t\tday: \"numeric\"\n\t});\n\n\t\tfunction reformatWidgetData(apbctDashboardWidget){\n\t\tapbctDashboardWidget.forEach(function(row){\n\t\t\trow['label'] = date_formatter.format(new Date(row['0']))\n\t\t\trow['y'] = row['1']\n\t\t\trow['color'] = 'steelblue'\n\t\t})\n\t\tconsole.table('apbctDashboardWidget',apbctDashboardWidget)\n\t}\n\t//cnvas start\n\treformatWidgetData(apbctDashboardWidget.data)\n\n\tvar chart = new CanvasJS.Chart(\"ct_widget_chart\", {\n\t\tanimationEnabled: true,\n\t\ttheme: \"light1\", // \"light1\", \"light2\", \"dark1\", \"dark2\"\n\t\tdataPointMaxWidth:30,\n\t\ttitle:{\n\t\t\ttext: \"Spam Attacks\"\n\t\t},\n\t\taxisY: {\n\t\t\ttitle: \"Spam count\"\n\t\t},\n\t\tdata: [{\n\t\t\ttype: \"column\",\n\t\t\tshowInLegend: false,\n\t\t\tdataPoints: apbctDashboardWidget.data\n\t\t}]\n\t});\n\tchart.render();\n\n});"],"names":["jQuery","document","ready","console","table","apbctDashboardWidget","on","show","setTimeout","window","scrollTo","offset","top","submit","location","hash","parent","css","locale","navigator","language","userLanguage","date_formatter","Intl","DateTimeFormat","month","day","data","forEach","row","format","Date","CanvasJS","Chart","animationEnabled","theme","dataPointMaxWidth","title","text","axisY","type","showInLegend","dataPoints","render"],"mappings":"AAAAA,OAAOC,QAAQ,EAAEC,MAAM,WAEtBC,QAAQC,MAAM,uBAAuBC,oBAAoB,EAGzDL,OAAO,yBAAyB,EAAEM,GAAG,QAAS,WAC7CN,OAAO,eAAe,EAAEO,KAAK,EAC7BC,WAAW,WAAWC,OAAOC,SAAS,EAAGV,OAAO,oBAAoB,EAAEW,OAAO,EAAEC,IAAM,GAAG,CAAE,EAAG,CAAC,EAC9FJ,WAAW,WAAWR,OAAO,kBAAkB,EAAEa,OAAO,CAAE,EAAG,IAAI,CAClE,CAAC,EAEmB,cAAjBC,SAASC,MACXP,WAAW,WAAWC,OAAOC,SAAS,EAAGV,OAAO,oBAAoB,EAAEW,OAAO,EAAEC,IAAM,GAAG,CAAE,EAAG,CAAC,EAG/FZ,OAAO,oBAAoB,EAAEgB,OAAO,EAAEC,IAAI,UAAW,CAAC,EAEtDC,OAASC,UAAUC,UAAYD,UAAUE,aAEzC,IAK6BhB,EALzBiB,EAAiB,IAAIC,KAAKC,eAAeN,OAAQ,CACpDO,MAAO,QACPC,IAAK,SACN,CAAC,GAE4BrB,EASVA,qBAAqBsB,MARlBC,QAAQ,SAASC,GACrCA,EAAW,MAAIP,EAAeQ,OAAO,IAAIC,KAAKF,EAAI,EAAI,CAAC,EACvDA,EAAO,EAAIA,EAAI,GACfA,EAAW,MAAI,WAChB,CAAC,EACD1B,QAAQC,MAAM,uBAAuBC,CAAoB,EAK9C,IAAI2B,SAASC,MAAM,kBAAmB,CACjDC,iBAAkB,CAAA,EAClBC,MAAO,SACPC,kBAAkB,GAClBC,MAAM,CACLC,KAAM,cACP,EACAC,MAAO,CACNF,MAAO,YACR,EACAV,KAAM,CAAC,CACNa,KAAM,SACNC,aAAc,CAAA,EACdC,WAAYrC,qBAAqBsB,IAClC,EACD,CAAC,EACKgB,OAAO,CAEd,CAAC"}