{"version":3,"sources":["cleantalk-admin-settings-page.js"],"names":["apbct_get_elems","elems","tmp","i","len","split","length","jQuery","apbct_show_hide_elem","each","elem","label","next","prev","is","hide","show","apbctSettingsDependencies","apbct_toggleAtrribute","attribute","value","attr","removeAttr","document","ready","on","val","this","fadeOut","d","Date","getTimezoneOffset","dialog","modal","position","my","at","of","window","width","height","title","draggable","resizable","closeText"],"mappings":"AA6BA,SAASA,gBAAgBC,GAErB,IAAK,IAA6BC,EAAzBC,EAAE,EAAGC,GADdH,EAAQA,EAAMI,MAAM,MACMC,OAAaH,EAAIC,EAAKD,IAC5CD,EAAMK,OAAO,IAAIN,EAAME,IACvBF,EAAME,GAAoB,IAAfD,EAAII,OAAeC,OAAO,IAAIN,EAAME,IAAMD,EAEzD,OAAOD,EAIX,SAASO,qBAAqBP,GAE1B,IAAK,IAAIE,EAAE,EAAGC,GADjBH,EAAQD,gBAAgBC,IACKK,OAAQH,EAAIC,EAAKD,IACvCF,EAAME,GAAGM,KAAK,SAAUN,EAAGO,GAEvB,IAAIC,GADJD,EAAOH,OAAOG,IACGE,KAAK,UAAYF,EAAKG,KAAK,UAAY,KACpDH,EAAKI,GAAG,aACRJ,EAAKK,OACDJ,GAAOA,EAAMI,SAEjBL,EAAKM,OACDL,GAAOA,EAAMK,UAWjC,SAASC,0BAA0BhB,GAE/B,IAAK,IAAIE,EAAE,EAAGC,GADdH,EAAQD,gBAAgBC,IACEK,OAAQH,EAAIC,EAAKD,IACvCF,EAAME,GAAGM,KAAK,SAAUN,EAAGO,GACvBQ,sBAAsBX,OAAOG,GAAO,cAYhD,SAASQ,sBAAsBR,EAAMS,EAAWC,GAC5CA,EAAQA,GAASD,OACkB,IAAzBT,EAAKW,KAAKF,GAChBT,EAAKW,KAAKF,EAAWC,GAErBV,EAAKY,WAAWH,GAlFxBZ,OAAOgB,UAAUC,MAAM,WAGnBjB,OAAO,qBAAqBkB,GAAG,QAAS,WACpClB,OAAO,2BAA2BmB,IAAInB,OAAO,2BAA2Bc,KAAK,QAC7Ed,OAAO,+BAA+BS,OACtCT,OAAOoB,MAAMC,QAAQ,OAG5B,IAAIC,EAAI,IAAIC,KACZvB,OAAO,sBAAsBmB,IAAIG,EAAEE,oBAAoB,IAAK,GAG5DxB,OAAO,0BAA0BkB,GAAG,QAAS,WAC5ClB,OAAO,gBAAgByB,OAAO,CAC7BC,OAAM,EACNjB,MAAM,EACNkB,SAAU,CAAEC,GAAI,SAAUC,GAAI,SAAUC,GAAIC,QAC5CC,OAAShC,OAAO,WAAWgC,QAAU,IAAM,GAC3CC,OAAQ,OACRC,MAAO,kBACPC,WAAW,EACXC,WAAW,EACXC,UAAW","file":"cleantalk-admin-settings-page.min.js","sourcesContent":["jQuery(document).ready(function(){\r\n\r\n    // Show/Hide access key\r\n    jQuery('#apbct_showApiKey').on('click', function(){\r\n        jQuery('.apbct_setting---apikey').val(jQuery('.apbct_setting---apikey').attr('key'));\r\n        jQuery('.apbct_setting---apikey+div').show();\r\n        jQuery(this).fadeOut(300);\r\n    });\r\n\r\n\tvar d = new Date();\r\n\tjQuery('#ct_admin_timezone').val(d.getTimezoneOffset()/60*(-1));\r\n\t\r\n\t// GDPR modal window\r\n\tjQuery('#apbct_gdpr_open_modal').on('click', function(){\r\n\t\tjQuery('#gdpr_dialog').dialog({\r\n\t\t\tmodal:true, \r\n\t\t\tshow: true,\r\n\t\t\tposition: { my: \"center\", at: \"center\", of: window },\r\n\t\t\twidth: +(jQuery('#wpbody').width() / 100 * 70), // 70% of #wpbody\r\n\t\t\theight: 'auto',\r\n\t\t\ttitle: 'GDPR compliance',\r\n\t\t\tdraggable: false,\r\n\t\t\tresizable: false,\r\n\t\t\tcloseText: \"Close\",\r\n\t\t});\r\n\t});\r\n\t\r\n});\r\n\r\nfunction apbct_get_elems(elems){\r\n    elems = elems.split(',');\r\n    for( var i=0, len = elems.length, tmp; i < len; i++){\r\n        tmp = jQuery('#'+elems[i]);\r\n        elems[i] = tmp.length === 0 ? jQuery('.'+elems[i]) : tmp;\r\n    }\r\n    return elems;\r\n\r\n}\r\n\r\nfunction apbct_show_hide_elem(elems){\r\n\telems = apbct_get_elems(elems);\r\n    for( var i=0, len = elems.length; i < len; i++){\r\n        elems[i].each(function (i, elem) {\r\n            elem = jQuery(elem);\r\n            var label = elem.next('label') || elem.prev('label') || null;\r\n            if (elem.is(\":visible\")) {\r\n                elem.hide();\r\n                if (label) label.hide();\r\n            } else {\r\n                elem.show();\r\n                if (label) label.show();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Settings dependences\r\n *\r\n * @param elems CSS selector\r\n */\r\nfunction apbctSettingsDependencies(elems){\r\n    elems = apbct_get_elems(elems);\r\n    for( var i=0, len = elems.length; i < len; i++){\r\n        elems[i].each(function (i, elem) {\r\n            apbct_toggleAtrribute(jQuery(elem), 'disabled');\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Toggle attribute 'disabled' for elements\r\n *\r\n * @param elem\r\n * @param attribute\r\n * @param value\r\n */\r\nfunction apbct_toggleAtrribute(elem, attribute, value){\r\n    value = value || attribute;\r\n    if(typeof elem.attr(attribute) === 'undefined')\r\n        elem.attr(attribute, value);\r\n    else\r\n        elem.removeAttr(attribute);\r\n}"]}