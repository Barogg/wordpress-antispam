{"version":3,"file":"cleantalk-admin-settings-page.min.js","sources":["cleantalk-admin-settings-page.js"],"sourcesContent":["jQuery(document).ready(function(){\r\n\r\n\t// Top level settings\r\n\tjQuery('.apbct_setting---data__email_decoder').on('click', (event) => {\r\n\t\tif ( event.target.type === 'checkbox' ) {\r\n\t\t\tconst postFix = event.target.checked ? '__On' : '__Off';\r\n\t\t\tdocument.getElementById('apbct_setting_data__email_decoder' + postFix).checked = true;\r\n\t\t} else {\r\n\t\t\tdocument.getElementById('apbct_setting_data__email_decoder').checked = parseInt(event.target.value) === 1;\r\n\t\t}\r\n\t});\r\n\r\n\t// Crunch for Right to Left direction languages\r\n\tif(document.getElementsByClassName('apbct_settings-title')[0]) {\r\n\t\tif(getComputedStyle(document.getElementsByClassName('apbct_settings-title')[0]).direction === 'rtl'){\r\n\t\t\tjQuery('.apbct_switchers').css('text-align', 'right');\r\n\t\t}\r\n\t}\r\n\r\n\t// Show/Hide access key\r\n    jQuery('#apbct_showApiKey').on('click', function(){\r\n        jQuery('.apbct_setting---apikey').val(jQuery('.apbct_setting---apikey').attr('key'));\r\n        jQuery('.apbct_setting---apikey+div').show();\r\n        jQuery(this).fadeOut(300);\r\n    });\r\n\r\n\tvar d = new Date();\r\n\tjQuery('#ct_admin_timezone').val(d.getTimezoneOffset()/60*(-1));\r\n\r\n\t// Key KEY automatically\r\n\tjQuery('#apbct_button__get_key_auto').on('click', function(){\r\n\t\tapbct_admin_sendAJAX(\r\n\t\t\t{action: 'apbct_get_key_auto'},\r\n\t\t\t{\r\n\t\t\t\ttimeout: 25000,\r\n\t\t\t\tbutton: document.getElementById('apbct_button__get_key_auto' ),\r\n\t\t\t\tspinner: jQuery('#apbct_button__get_key_auto .apbct_preloader_button' ),\r\n\t\t\t\tcallback: function(result, data, params, obj){\r\n\t\t\t\t\tjQuery('#apbct_button__get_key_auto .apbct_success').show(300);\r\n\t\t\t\t\tsetTimeout(function(){jQuery('#apbct_button__get_key_auto .apbct_success').hide(300);}, 2000);\r\n\t\t\t\t\tif(result.reload)\r\n\t\t\t\t\t\tdocument.location.reload();\r\n\t\t\t\t\tif(result.getTemplates) {\r\n\t\t\t\t\t\tcleantalkModal.loaded = result.getTemplates;\r\n\t\t\t\t\t\tcleantalkModal.open();\r\n\t\t\t\t\t\tdocument.addEventListener(\"cleantalkModalClosed\", function( e ) {\r\n\t\t\t\t\t\t\tdocument.location.reload();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t});\r\n\r\n\t// Import settings\r\n\tjQuery( document ).on('click', '#apbct_settings_templates_import_button', function(){\r\n\t\tjQuery('#apbct-ajax-result').remove();\r\n\t\tvar optionSelected = jQuery('option:selected', jQuery('#apbct_settings_templates_import'));\r\n\t\tvar templateNameInput = jQuery('#apbct_settings_templates_import_name');\r\n\t\ttemplateNameInput.css('border-color', 'inherit');\r\n\t\tif( typeof optionSelected.data('id') === \"undefined\" ) {\r\n\t\t\tconsole.log( 'Attribute \"data-id\" not set for the option.' );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar data = {\r\n\t\t\t'template_id' : optionSelected.data('id'),\r\n\t\t\t'template_name' : optionSelected.data('name'),\r\n\t\t\t'settings' : optionSelected.data('settings')\r\n\t\t};\r\n\t\tvar button = this;\r\n\t\tapbct_admin_sendAJAX(\r\n\t\t\t{action: 'settings_templates_import', data: data},\r\n\t\t\t{\r\n\t\t\t\ttimeout: 25000,\r\n\t\t\t\tbutton: button,\r\n\t\t\t\tspinner: jQuery('#apbct_settings_templates_import_button .apbct_preloader_button' ),\r\n\t\t\t\tnotJson: true,\r\n\t\t\t\tcallback: function(result, data, params, obj){\r\n\t\t\t\t\tif(result.success) {\r\n\t\t\t\t\t\tjQuery( \"<p id='apbct-ajax-result' class='success'>\" + result.data + \"</p>\" ).insertAfter( jQuery(button) );\r\n\t\t\t\t\t\tjQuery('#apbct_settings_templates_import_button .apbct_success').show(300);\r\n\t\t\t\t\t\tsetTimeout(function(){jQuery('#apbct_settings_templates_import_button .apbct_success').hide(300);}, 2000);\r\n\t\t\t\t\t\tdocument.addEventListener(\"cleantalkModalClosed\", function( e ) {\r\n\t\t\t\t\t\t\tdocument.location.reload();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(function(){cleantalkModal.close()}, 2000);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tjQuery( \"<p id='apbct-ajax-result' class='error'>\" + result.data + \"</p>\" ).insertAfter( jQuery(button) );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t});\r\n\r\n\t// Export settings\r\n\tjQuery( document ).on('click', '#apbct_settings_templates_export_button', function(){\r\n\t\tjQuery('#apbct-ajax-result').remove();\r\n\t\tvar optionSelected = jQuery('option:selected', jQuery('#apbct_settings_templates_export'));\r\n\t\tvar templateNameInput = jQuery('#apbct_settings_templates_export_name');\r\n\t\ttemplateNameInput.css('border-color', 'inherit');\r\n\t\tif( typeof optionSelected.data('id') === \"undefined\" ) {\r\n\t\t\tconsole.log( 'Attribute \"data-id\" not set for the option.' );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif( optionSelected.data('id') === 'new_template' ) {\r\n\t\t\tvar templateName = templateNameInput.val();\r\n\t\t\tif( templateName === '' ) {\r\n\t\t\t\ttemplateNameInput.css('border-color', 'red');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar data = {\r\n\t\t\t\t'template_name' : templateName\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar data = {\r\n\t\t\t\t'template_id' : optionSelected.data('id')\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar button = this;\r\n\t\tapbct_admin_sendAJAX(\r\n\t\t\t{action: 'settings_templates_export', data: data},\r\n\t\t\t{\r\n\t\t\t\ttimeout: 25000,\r\n\t\t\t\tbutton: button,\r\n\t\t\t\tspinner: jQuery('#apbct_settings_templates_export_button .apbct_preloader_button' ),\r\n\t\t\t\tnotJson: true,\r\n\t\t\t\tcallback: function(result, data, params, obj){\r\n\t\t\t\t\tif(result.success) {\r\n\t\t\t\t\t\tjQuery( \"<p id='apbct-ajax-result' class='success'>\" + result.data + \"</p>\" ).insertAfter( jQuery(button) );\r\n\t\t\t\t\t\tjQuery('#apbct_settings_templates_export_button .apbct_success').show(300);\r\n\t\t\t\t\t\tsetTimeout(function(){jQuery('#apbct_settings_templates_export_button .apbct_success').hide(300);}, 2000);\r\n\t\t\t\t\t\tdocument.addEventListener(\"cleantalkModalClosed\", function( e ) {\r\n\t\t\t\t\t\t\tdocument.location.reload();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(function(){cleantalkModal.close()}, 2000);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tjQuery( \"<p id='apbct-ajax-result' class='error'>\" + result.data + \"</p>\" ).insertAfter( jQuery(button) );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t});\r\n\r\n\t// Reset settings\r\n\tjQuery( document ).on('click', '#apbct_settings_templates_reset_button', function(){\r\n\t\tvar button = this;\r\n\t\tapbct_admin_sendAJAX(\r\n\t\t\t{action: 'settings_templates_reset'},\r\n\t\t\t{\r\n\t\t\t\ttimeout: 25000,\r\n\t\t\t\tbutton: button,\r\n\t\t\t\tspinner: jQuery('#apbct_settings_templates_reset_button .apbct_preloader_button' ),\r\n\t\t\t\tnotJson: true,\r\n\t\t\t\tcallback: function(result, data, params, obj){\r\n\t\t\t\t\tif(result.success) {\r\n\t\t\t\t\t\tjQuery( \"<p id='apbct-ajax-result' class='success'>\" + result.data + \"</p>\" ).insertAfter( jQuery(button) );\r\n\t\t\t\t\t\tjQuery('#apbct_settings_templates_reset_button .apbct_success').show(300);\r\n\t\t\t\t\t\tsetTimeout(function(){jQuery('#apbct_settings_templates_reset_button .apbct_success').hide(300);}, 2000);\r\n\t\t\t\t\t\tdocument.addEventListener(\"cleantalkModalClosed\", function( e ) {\r\n\t\t\t\t\t\t\tdocument.location.reload();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(function(){cleantalkModal.close()}, 2000);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tjQuery( \"<p id='apbct-ajax-result' class='error'>\" + result.data + \"</p>\" ).insertAfter( jQuery(button) );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t});\r\n\r\n\t// Sync button\r\n\tjQuery('#apbct_button__sync').on('click', function(){\r\n\t\tapbct_admin_sendAJAX(\r\n\t\t\t{action: 'apbct_sync'},\r\n\t\t\t{\r\n\t\t\t\ttimeout: 25000,\r\n\t\t\t\tbutton: document.getElementById('apbct_button__sync' ),\r\n\t\t\t\tspinner: jQuery('#apbct_button__sync .apbct_preloader_button' ),\r\n\t\t\t\tcallback: function(result, data, params, obj){\r\n\t\t\t\t\tjQuery('#apbct_button__sync .apbct_success').show(300);\r\n\t\t\t\t\tsetTimeout(function(){jQuery('#apbct_button__sync .apbct_success').hide(300);}, 2000);\r\n\t\t\t\t\tif(result.reload)\r\n\t\t\t\t\t\tdocument.location.reload();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t});\r\n\r\n\tif( ctSettingsPage.key_changed )\r\n\t\tjQuery('#apbct_button__sync').click();\r\n\r\n\tjQuery(document).on('click', '.apbct_settings-long_description---show', function(){\r\n\t\tself = jQuery(this);\r\n\t\tapbct_settings__showDescription(self, self.attr('setting'));\r\n\t});\r\n\r\n\tif (jQuery('#cleantalk_notice_renew').length || jQuery('#cleantalk_notice_trial').length)\r\n\t\tapbct_banner_check();\r\n\r\n\tjQuery(document).on('change', '#apbct_settings_templates_export',function(){\r\n\t\tvar optionSelected = jQuery(\"option:selected\", this);\r\n\t\tif ( optionSelected.data(\"id\") === 'new_template' ) {\r\n\t\t\tjQuery(this).parent().parent().find('#apbct_settings_templates_export_name').show();\r\n\t\t} else {\r\n\t\t\tjQuery(this).parent().parent().find('#apbct_settings_templates_export_name').hide();\r\n\t\t}\r\n\t});\r\n\r\n\tapbct_save_button_position();\r\n\twindow.addEventListener('scroll', apbct_save_button_position);\r\n\tjQuery('#ct_adv_showhide a').on('click', apbct_save_button_position);\r\n\r\n\r\n\t/**\r\n\t * Change cleantalk account email\r\n\t */\r\n\tjQuery('#apbct-change-account-email').on('click', function (e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tvar $this = jQuery(this);\r\n\t\tvar accountEmailField = jQuery('#apbct-account-email');\r\n\t\tvar accountEmail = accountEmailField.text();\r\n\r\n\t\t$this.toggleClass('active');\r\n\r\n\t\tif ($this.hasClass('active')) {\r\n\t\t\t$this.text($this.data('save-text'));\r\n\t\t\taccountEmailField.attr('contenteditable', 'true');\r\n\t\t\taccountEmailField.on('keydown', function (e) {\r\n\t\t\t\tif (e.code === 'Enter') {\r\n\t\t\t\t\te.preventDefault()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\taccountEmailField.on('input', function (e) {\r\n\t\t\t\tif (e.inputType === 'insertParagraph') {\r\n\t\t\t\t\te.preventDefault()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tapbct_admin_sendAJAX(\r\n\t\t\t\t{\r\n\t\t\t\t\taction: 'apbct_update_account_email',\r\n\t\t\t\t\taccountEmail: accountEmail\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\tcallback: function(result, data, params, obj){\r\n\t\t\t\t\t\tif (result.success !== undefined && result.success === 'ok') {\r\n\t\t\t\t\t\t\tif (result.manuallyLink !== undefined) {\r\n\t\t\t\t\t\t\t\tjQuery('#apbct-key-manually-link').attr('href', result.manuallyLink);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (result.error !== undefined) {\r\n\t\t\t\t\t\t\tjQuery('#apbct-account-email').css('border-color', 'red');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\taccountEmailField.attr('contenteditable', 'false');\r\n\t\t\t$this.text($this.data('default-text'));\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t * Validate apkikey and hide get auto btn\r\n\t */\r\n\tjQuery('#apbct_setting_apikey').on('input', function () {\r\n\t\tvar enteredValue = jQuery(this).val();\r\n\t\tjQuery('button.cleantalk_link[value=\"save_changes\"]').off('click')\r\n\t\tif (enteredValue !== '' && enteredValue.match(/^[a-z\\d]{3,30}\\s*$/) === null) {\r\n\t\t\tjQuery('#apbct_button__get_key_auto__wrapper').show();\r\n\t\t\tjQuery('button.cleantalk_link[value=\"save_changes\"]').on('click',\r\n\t\t\t\t\tfunction (e) {\r\n\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\tif (!jQuery('#apbct_bad_key_notice').length){\r\n\t\t\t\t\t\t\tjQuery( \"<div class='apbct_notice_inner error'><h4 id='apbct_bad_key_notice'>\" +\r\n\t\t\t\t\t\t\t\t\"Please, insert a correct access key before saving changes!\" +\r\n\t\t\t\t\t\t\t\t\"</h4></div>\" ).insertAfter( jQuery('#apbct_setting_apikey') );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tapbct_highlight_element('apbct_setting_apikey',3)\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tif ( jQuery('#apbct_setting_apikey').val() && ctSettingsPage.key_is_ok) {\r\n\t\tjQuery('#apbct_button__get_key_auto__wrapper').hide();\r\n\t}\r\n\r\n\t/**\r\n\t * Handle synchronization errors when key is no ok to force user check the key and restart the sync\r\n\t */\r\n\tif( !ctSettingsPage.key_is_ok ){\r\n\t\tjQuery('button.cleantalk_link[value=\"save_changes\"]').on('click',\r\n\t\t\tfunction (e) {\r\n\t\t\t\te.preventDefault()\r\n\t\t\t\tif (!jQuery('#sync_required_notice').length){\r\n\t\t\t\t\tjQuery( \"<div class='apbct_notice_inner error'><h4 id='sync_required_notice'>\" +\r\n\t\t\t\t\t\t\"Synchronization process failed. Please, check the acces key and restart the synch.\" +\r\n\t\t\t\t\t\t\"<h4></div>\" ).insertAfter( jQuery('#apbct_button__sync') );\r\n\t\t\t\t}\r\n\t\t\t\tapbct_highlight_element('apbct_setting_apikey',3)\r\n\t\t\t\tapbct_highlight_element('apbct_button__sync',3)\r\n\t\t\t\tjQuery('#apbct_button__get_key_auto__wrapper').show();\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\t/**\r\n\t * Open WP gallery for adding custom logo\r\n\t */\r\n\tjQuery('#apbct-custom-logo-open-gallery').click(function (e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst button = jQuery(this);\r\n\r\n\t\tconst customUploader = wp.media({\r\n\t\t\tlibrary : {\r\n\t\t\t\ttype : 'image'\r\n\t\t\t},\r\n\t\t\tmultiple: false\r\n\t\t});\r\n\r\n\t\tcustomUploader.on('select', function() {\r\n\t\t\tconst image = customUploader.state().get('selection').first().toJSON();\r\n\r\n\t\t\tbutton.parent().prev().attr( 'src', image.url );\r\n\t\t\tjQuery('#cleantalk_custom_logo').val( image.id );\r\n\t\t});\r\n\r\n\t\tcustomUploader.open();\r\n\t});\r\n\r\n\t/**\r\n\t * Remove selected logo\r\n\t */\r\n\tjQuery('#apbct-custom-logo-remove-image').click(function (e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tif ( true === confirm( \"Sure?\" ) ) {\r\n\t\t\tconst src = jQuery(this).parent().prev().data('src');\r\n\t\t\tjQuery(this).parent().prev().attr('src', src);\r\n\t\t\tjQuery(this).prev().prev().val('');\r\n\t\t}\r\n\t});\r\n\r\n});\r\n\r\n/**\r\n * Checking current account status for renew notice\r\n */\r\nfunction apbct_banner_check() {\r\n\tvar bannerChecker = setInterval( function() {\r\n\t\tapbct_admin_sendAJAX(\r\n\t\t\t{action: 'apbct_settings__check_renew_banner'},\r\n\t\t\t{\r\n\t\t\t\tcallback: function(result, data, params, obj){\r\n\t\t\t\t\tif (result.close_renew_banner) {\r\n\t\t\t\t\t\tif (jQuery('#cleantalk_notice_renew').length)\r\n\t\t\t\t\t\t\tjQuery('#cleantalk_notice_renew').hide('slow');\r\n\t\t\t\t\t\tif (jQuery('#cleantalk_notice_trial').length)\r\n\t\t\t\t\t\t\tjQuery('#cleantalk_notice_trial').hide('slow');\r\n\t\t\t\t\t\tclearInterval(bannerChecker);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t}, 900000);\r\n}\r\n\r\n/**\r\n * Select elems like #{selector} or .{selector}\r\n * Selector passed in string separated by ,\r\n *\r\n * @param elems\r\n * @returns {*}\r\n */\r\nfunction apbct_get_elems(elems){\r\n    elems = elems.split(',');\r\n    for( var i=0, len = elems.length, tmp; i < len; i++){\r\n        tmp = jQuery('#'+elems[i]);\r\n        elems[i] = tmp.length === 0 ? jQuery('.'+elems[i]) : tmp;\r\n    }\r\n    return elems;\r\n}\r\n\r\n/**\r\n * Select elems like #{selector} or .{selector}\r\n * Selector could be passed in a string ( separated by comma ) or in array ( [ elem1, elem2, ... ] )\r\n *\r\n * @param elems string|array\r\n * @returns array\r\n */\r\nfunction apbct_get_elems__native(elems){\r\n\r\n\t// Make array from a string\r\n\tif(typeof elems === 'string')\r\n\t\telems = elems.split(',');\r\n\r\n\tvar out = [];\r\n\r\n\telems.forEach(function(elem, i, arr) {\r\n\r\n\t\t// try to get elements with such IDs\r\n\t\tvar tmp = document.getElementById(elem);\r\n\t\tif (tmp !== null){\r\n\t\t\tout.push( tmp[key] );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// try to get elements with such class name\r\n\t\t// write each elem from collection to new element of output array\r\n\t\ttmp = document.getElementsByClassName(elem);\r\n\t\tif (tmp !== null && tmp.length !==0 ){\r\n\t\t\tfor(key in tmp){\r\n\t\t\t\tif( +key >= 0 ){\r\n\t\t\t\t\tout.push( tmp[key] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\treturn out;\r\n}\r\n\r\nfunction apbct_show_hide_elem(elems){\r\n\telems = apbct_get_elems(elems);\r\n    for( var i=0, len = elems.length; i < len; i++){\r\n        elems[i].each(function (i, elem) {\r\n            elem = jQuery(elem);\r\n            var label = elem.next('label') || elem.prev('label') || null;\r\n            if (elem.is(\":visible\")) {\r\n                elem.hide();\r\n                if (label) label.hide();\r\n            } else {\r\n                elem.show();\r\n                if (label) label.show();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Settings dependences. Switch|toggle depended elements state (disabled|enabled)\r\n * Recieve list of selectors ( without class mark (.) or id mark (#) )\r\n *\r\n * @param ids string|array Selectors\r\n * @param enable\r\n */\r\nfunction apbctSettingsDependencies(ids, enable){\r\n\r\n\r\n\tenable = ! isNaN(enable) ? enable : null;\r\n\r\n\t// Get elements\r\n\tvar elems = apbct_get_elems__native( ids );\r\n\r\n\telems.forEach(function(elem, i, arr){\r\n\r\n\t\tvar do_disable = function(){elem.setAttribute('disabled', 'disabled');},\r\n\t\t\tdo_enable  = function(){elem.removeAttribute('disabled');};\r\n\r\n\t\t// Set defined state\r\n\t\tif(enable === null) // Set\r\n\t\t\tenable = elem.getAttribute('disabled') === null ? 0 : 1;\r\n\r\n\t\tenable === 1 ? do_enable() : do_disable();\r\n\r\n\t\tif( elem.getAttribute('apbct_children') !== null){\r\n\t\t\tvar state = apbctSettingsDependencies_getState( elem ) && enable;\r\n\t\t\tif( state !== null ) {\r\n\t\t\t\tapbctSettingsDependencies( elem.getAttribute('apbct_children'), state  );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n}\r\n\r\nfunction apbctSettingsDependencies_getState( elem ){\r\n\r\n\tvar state;\r\n\r\n\tswitch ( elem.getAttribute( 'type' ) ){\r\n\t\tcase 'checkbox':\r\n\t\t\tstate = +elem.checked;\r\n\t\t\tbreak;\r\n\t\tcase 'radio':\r\n\t\t\tstate = +(+elem.getAttribute('value') === 1);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tstate = null;\r\n\t}\r\n\r\n\treturn state;\r\n}\r\n\r\nfunction apbct_settings__showDescription(label, setting_id){\r\n\r\n\tvar remove_desc_func = function(e){\r\n\t\tif(typeof e === 'undefined' || ((jQuery(e.target).parent('.apbct_long_desc').length == 0 || jQuery(e.target).hasClass('apbct_long_desc__cancel')) && !jQuery(e.target).hasClass('apbct_long_description__show'))){\r\n\t\t\tjQuery('.apbct_long_desc').remove();\r\n\t\t\tjQuery(document).off('click', remove_desc_func);\r\n\t\t}\r\n\t};\r\n\r\n\tremove_desc_func();\r\n\r\n\tlabel.after(\"<div id='apbct_long_desc__\"+setting_id+\"' class='apbct_long_desc'></div>\");\r\n\tvar obj = jQuery('#apbct_long_desc__'+setting_id);\r\n\tobj.append(\"<i class= 'apbct-icon-spin1 animate-spin'></i>\")\r\n\t\t.append(\"<div class='apbct_long_desc__angle'></div>\")\r\n\t\t.css({\r\n\t\t\ttop: label.position().top - 5,\r\n\t\t\tleft: label.position().left + 25\r\n\t\t});\r\n\r\n\r\n\tapbct_admin_sendAJAX(\r\n\t\t{action: 'apbct_settings__get__long_description', setting_id: setting_id},\r\n\t\t{\r\n\t\t\tspinner: obj.children('img'),\r\n\t\t\tcallback: function(result, data, params, obj){\r\n\r\n\t\t\t\tobj.empty()\r\n\t\t\t\t\t.append(\"<div class='apbct_long_desc__angle'></div>\")\r\n\t\t\t\t\t.append(\"<i class='apbct_long_desc__cancel apbct-icon-cancel'></i>\")\r\n\t\t\t\t\t.append(\"<h3 class='apbct_long_desc__title'>\"+result.title+\"</h3>\")\r\n\t\t\t\t\t.append(\"<p>\"+result.desc+\"</p>\");\r\n\r\n\t\t\t\tjQuery(document).on('click', remove_desc_func);\r\n\t\t\t}\r\n\t\t},\r\n\t\tobj\r\n\t);\r\n}\r\n\r\nfunction apbct_save_button_position() {\r\n\tif (\r\n\t\tdocument.getElementById('apbct_settings__before_advanced_settings') === null ||\r\n\t\tdocument.getElementById('apbct_settings__after_advanced_settings') === null ||\r\n\t\tdocument.getElementById('apbct_settings__button_section') === null ||\r\n\t\tdocument.getElementById('apbct_settings__advanced_settings') === null ||\r\n\t\tdocument.getElementById('apbct_hidden_section_nav') === null\r\n\t) {\r\n\t\treturn;\r\n\t}\r\n\tvar docInnerHeight = window.innerHeight;\r\n\tvar advSettingsBlock = document.getElementById('apbct_settings__advanced_settings');\r\n\tvar advSettingsOffset = advSettingsBlock.getBoundingClientRect().top;\r\n\tvar buttonBlock = document.getElementById('apbct_settings__button_section');\r\n\tvar buttonHeight = buttonBlock.getBoundingClientRect().height;\r\n\tvar navBlock = document.getElementById('apbct_hidden_section_nav');\r\n\tvar navBlockOffset = navBlock.getBoundingClientRect().top;\r\n\tvar navBlockHeight = navBlock.getBoundingClientRect().height;\r\n\r\n\t// Set Save button position\r\n\tif ( getComputedStyle(advSettingsBlock).display !== \"none\" ) {\r\n\t\tjQuery('#apbct_settings__main_save_button').hide();\r\n\t\tif ( docInnerHeight < navBlockOffset + navBlockHeight + buttonHeight ) {\r\n\t\t\tbuttonBlock.style.bottom = '';\r\n\t\t\tbuttonBlock.style.top = navBlockOffset + navBlockHeight + 20 + 'px';\r\n\t\t} else {\r\n\t\t\tbuttonBlock.style.bottom = 0;\r\n\t\t\tbuttonBlock.style.top = '';\r\n\t\t}\r\n\t} else {\r\n\t\tjQuery('#apbct_settings__main_save_button').show();\r\n\t}\r\n\r\n\t// Set nav position\r\n\tif ( advSettingsOffset <= 0 ) {\r\n\t\tnavBlock.style.top = - advSettingsOffset + 30 + 'px';\r\n\t} else {\r\n\t\tnavBlock.style.top = 0;\r\n\t}\r\n}\r\n\r\n// Hightlights element\r\nfunction apbct_highlight_element(id, times){\r\n\ttimes = times-1 || 0;\r\n\tlet key_field = jQuery('#'+id)\r\n\tjQuery(\"html, body\").animate({ scrollTop: key_field.offset().top - 100 }, \"slow\");\r\n\tkey_field.addClass('apbct_highlighted');\r\n\tkey_field.animate({opacity: 0 }, 400, 'linear', function(){\r\n\t\tkey_field.animate({opacity: 1 }, 400, 'linear', function(){\r\n\t\t\tif(times>0){\r\n\t\t\t\tapbct_highlight_element(id, times);\r\n\t\t\t}else{\r\n\t\t\t\tkey_field.removeClass('apbct_highlighted');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}"],"names":["apbct_banner_check","bannerChecker","setInterval","apbct_admin_sendAJAX","action","callback","result","data","params","obj","close_renew_banner","jQuery","length","hide","clearInterval","apbct_get_elems","elems","tmp","i","len","split","apbct_get_elems__native","out","forEach","elem","arr","document","getElementById","push","key","getElementsByClassName","apbct_show_hide_elem","each","label","next","prev","is","show","apbctSettingsDependencies","ids","enable","isNaN","state","getAttribute","removeAttribute","setAttribute","apbctSettingsDependencies_getState","checked","apbct_settings__showDescription","setting_id","remove_desc_func","e","target","parent","hasClass","remove","off","after","append","css","top","position","left","spinner","children","empty","title","desc","on","apbct_save_button_position","docInnerHeight","advSettingsBlock","advSettingsOffset","buttonBlock","buttonHeight","navBlock","navBlockOffset","navBlockHeight","window","innerHeight","getBoundingClientRect","height","getComputedStyle","display","style","bottom","apbct_highlight_element","id","times","let","key_field","animate","scrollTop","offset","addClass","opacity","removeClass","ready","postFix","event","type","parseInt","value","direction","val","attr","this","fadeOut","d","Date","getTimezoneOffset","timeout","button","setTimeout","reload","location","getTemplates","cleantalkModal","loaded","open","addEventListener","optionSelected","console","log","template_id","template_name","settings","notJson","success","insertAfter","close","templateNameInput","templateName","ctSettingsPage","key_changed","click","self","find","preventDefault","$this","accountEmailField","accountEmail","text","toggleClass","code","inputType","undefined","manuallyLink","error","enteredValue","match","key_is_ok","customUploader","wp","media","library","multiple","image","get","first","toJSON","url","confirm","src"],"mappings":"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"}