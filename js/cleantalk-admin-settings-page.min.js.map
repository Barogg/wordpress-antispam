{"version":3,"sources":["cleantalk-admin-settings-page.js"],"names":["apbct_show_hide_elem","elem","label","jQuery","next","prev","is","hide","show","apbctSettingsDependencies","settingsIDs","console","log","tmp","push","forEach","settingID","i","arr","document","getElementById","apbctSwitchDisabledAttr","getAttribute","setAttribute","removeAttribute","ready","d","Date","val","getTimezoneOffset","on","dialog","modal","position","my","at","of","window","width","height","title","draggable","resizable","closeText"],"mappings":"AAqBA,SAASA,qBAAqBC,GAE7B,IAAIC,GADJD,EAAOE,OAAOF,IACGG,KAAK,UAAYH,EAAKI,KAAK,UAAY,KACrDJ,EAAKK,GAAG,aACVL,EAAKM,OACFL,GAAOA,EAAMK,SAEhBN,EAAKO,OACFN,GAAOA,EAAMM,QAKlB,SAASC,0BAA0BC,GAClCC,QAAQC,IAAIF,GACc,iBAAhBA,IACTG,IAAM,GACNA,IAAIC,KAAKJ,GACTA,EAAcG,KAEfF,QAAQC,IAAIF,GACZA,EAAYK,QAAQ,SAASC,EAAWC,EAAGC,GAC1CP,QAAQC,IAAII,GACZ,IAAIf,EAAOkB,SAASC,eAAe,iBAAiBJ,IAAc,KAClEL,QAAQC,IAAIX,GACTA,EACFoB,wBAAwBpB,IAExBoB,wBAAwBF,SAASC,eAAe,iBAAiBJ,EAAU,SAC3EK,wBAAwBF,SAASC,eAAe,iBAAiBJ,EAAU,WAK9E,SAASK,wBAAwBpB,GACK,OAAlCA,EAAKqB,aAAa,YACpBrB,EAAKsB,aAAa,WAAY,YAE9BtB,EAAKuB,gBAAgB,YA3DvBrB,OAAOgB,UAAUM,MAAM,WACtB,IAAIC,EAAI,IAAIC,KACZxB,OAAO,sBAAsByB,IAAIF,EAAEG,oBAAoB,IAAK,GAG5D1B,OAAO,0BAA0B2B,GAAG,QAAS,WAC5C3B,OAAO,gBAAgB4B,OAAO,CAC7BC,OAAM,EACNxB,MAAM,EACNyB,SAAU,CAAEC,GAAI,SAAUC,GAAI,SAAUC,GAAIC,QAC5CC,OAASnC,OAAO,WAAWmC,QAAU,IAAM,GAC3CC,OAAQ,OACRC,MAAO,kBACPC,WAAW,EACXC,WAAW,EACXC,UAAW","file":"cleantalk-admin-settings-page.min.js","sourcesContent":["jQuery(document).ready(function(){\r\n\tvar d = new Date();\r\n\tjQuery('#ct_admin_timezone').val(d.getTimezoneOffset()/60*(-1));\r\n\t\r\n\t// GDPR modal window\r\n\tjQuery('#apbct_gdpr_open_modal').on('click', function(){\r\n\t\tjQuery('#gdpr_dialog').dialog({\r\n\t\t\tmodal:true, \r\n\t\t\tshow: true,\r\n\t\t\tposition: { my: \"center\", at: \"center\", of: window },\r\n\t\t\twidth: +(jQuery('#wpbody').width() / 100 * 70), // 70% of #wpbody\r\n\t\t\theight: 'auto',\r\n\t\t\ttitle: 'GDPR compliance',\r\n\t\t\tdraggable: false,\r\n\t\t\tresizable: false,\r\n\t\t\tcloseText: \"Close\",\r\n\t\t});\r\n\t});\r\n\t\r\n});\r\n\r\nfunction apbct_show_hide_elem(elem){\r\n\telem = jQuery(elem);\r\n\tvar label = elem.next('label') || elem.prev('label') || null;\r\n\tif(elem.is(\":visible\")){\r\n\t\telem.hide();\r\n\t\tif(label) label.hide();\r\n\t}else{\r\n\t\telem.show();\r\n\t\tif(label) label.show();\r\n\t}\r\n}\r\n\r\n// Settings dependences\r\nfunction apbctSettingsDependencies(settingsIDs){\r\n\tconsole.log(settingsIDs);\r\n\tif(typeof settingsIDs === 'string'){\r\n\t\ttmp = [];\r\n\t\ttmp.push(settingsIDs);\r\n\t\tsettingsIDs = tmp;\r\n\t}\r\n\tconsole.log(settingsIDs);\r\n\tsettingsIDs.forEach(function(settingID, i, arr){\r\n\t\tconsole.log(settingID);\r\n\t\tvar elem = document.getElementById('apbct_setting_'+settingID) || null;\r\n\t\tconsole.log(elem);\r\n\t\tif(elem){\r\n\t\t\tapbctSwitchDisabledAttr(elem);\r\n\t\t}else{\r\n\t\t\tapbctSwitchDisabledAttr(document.getElementById('apbct_setting_'+settingID+'_yes'));\r\n\t\t\tapbctSwitchDisabledAttr(document.getElementById('apbct_setting_'+settingID+'_no'));\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction apbctSwitchDisabledAttr(elem){\r\n\tif(elem.getAttribute('disabled') === null)\r\n\t\telem.setAttribute('disabled', 'disabled');\r\n\telse\r\n\t\telem.removeAttribute('disabled');\r\n}"]}